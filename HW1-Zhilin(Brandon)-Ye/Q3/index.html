<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="author" content="Zhilin(Brandon) Ye">
        <meta charset="utf-8">
        <title> HW1 D3WarmUp by Brandon </title>
        <script type="text/javascript" src="d3/d3.v3.min.js"></script>
        <style type="text/css">
            .axis path,
            .axis line {
                    fill:none;
                    stroke:black;
                    shape-rendering:crispEdges;
            }

            .axis text {
                    font-family: sans-serif;
                    font-size: 11px;
            }

        </style>
    </head>

    <body>
        <script type="text/javascript">
            var w = 500;
            var h = 300;
            
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width",w)
                        .attr("height",h);
            

            var dataset = [];
            var numDataPoints = 50;
            var xRange = 100;
            var yRange = 100;
            for (var i = 0; i < numDataPoints; i++) {
                    var newNumber1 = (Math.random() * xRange);
                    var newNumber2 = (Math.random() * yRange);
                    dataset.push([newNumber1, newNumber2]);
                    }


            var padding = 30;


            
            var xScale = d3.scale.linear()
                           .domain([0,d3.max(dataset,function(d){
                                   return d[0];})])
                           .range([padding,w-padding*2]);

            var yScale = d3.scale.linear()
                           .domain([0,d3.max(dataset,function(d){
                                   return d[1];})])
                           .range([h-padding,padding]);
                   
            var rScale = d3.scale.linear()
                           .domain([0,d3.max(dataset,function(d){
                                   return d[1];
                           })])
                           .range([1,5]);

            var currentR = [];
            var sum = 0;
            for (var i = 0; i < numDataPoints; i++) {
                    var newcurrentR = rScale(dataset[i][1]);
                    currentR.push(newcurrentR);
                    sum += newcurrentR;
                    };
            var aveR = sum/currentR.length;
            
            var color = ["green","blue"];
            svg.selectAll("circle")
               .data(dataset)
               .enter()
               .append("circle")
               .attr("cx",function(d,i){
                   return xScale(d[0]);
               })
               .attr("cy",function(d,i){
                   return yScale(d[1]);
               })
               .attr("r",function(d){
                   return rScale(d[1]);
               })
               .attr("fill",function(d){
                   return color[(rScale(d[1])>aveR)?1:0];
               })
          
            var xAxis = d3.svg.axis()
                          .scale(xScale)
                          .orient("bottom")
                          .ticks(5) //Only roughly set
                          ;

            var yAxis = d3.svg.axis()
                          .scale(yScale)
                          .orient("left") // here decides the direction.
                          .ticks(5);

            svg.append("g")
               .attr("class","axis")
               .attr("transform", "translate("+(padding)+",0)")
               .call(yAxis);
            // How can it decide which direction is the axis?

            svg.append("g")
               .attr("class","axis")
               .attr("transform","translate(0,"+(h-padding)+")")
               .call(xAxis);
            // What's the "g" here? To group other elements.

            d3.select("body").append("p")
              .text("by Zhilin(Brandon) Ye");

            

            

        </script>
        





        <!--<p> Here is an SVG generated by the code. </p>
        <p>
            

            <svg width="500" height="300">
                <rect x="0" y="0" width="500" height="50"/>
                <circle cx="250" cy="75" r="25" class="svg.pumpkin"/>
                <ellipse cx="250" cy="125" rx="100" ry="25"/>
                <line x1="0" x2="500" y1="0" y2="200" stroke="blue"
                stroke-width="10"/>
                <text x="250" y="175"> Easy-peasy </text>
                <text x="250" y="175" font-family="sans-serif" 
                font-size="25" fill="gray"> Easy-peasy </text>
                <rect x="0" y="0" width="30" height="30" fill="purple" 
                opacity="0.8"/>
                <rect x="20" y="5" width="30" height="30" fill="blue"/>
                <rect x="40" y="10" width="30" height="30" fill="green"/>
                <rect x="60" y="15" width="30" height="30" fill="yellow"/>
                <rect x="80" y="20" width="30" height="30" fill="red"/>
                <circle cx="25" cy="75" r="20" fill="rgba(128, 0, 128, 1.0)"/>
                <circle cx="50" cy="75" r="20" fill="rgba(0, 0, 255, 0.75)"/>
                <circle cx="75" cy="75" r="20" fill="rgba(0, 255, 0, 0.5)"/>
                <circle cx="100" cy="75" r="20" fill="rgba(255, 255, 0, 0.25)"/>
                <circle cx="125" cy="75" r="20" fill="rgba(255, 0, 0, 0.1)"/>
                <circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 0.75)" 
                stroke="rgba(0, 255, 0, 0.25)" stroke-width="10"/>
                <circle cx="75" cy="25" r="20"
                fill="rgba(0, 255, 0, 0.75)"
                stroke="rgba(0, 0, 255, 0.25)" stroke-width="10"/>
                <circle cx="125" cy="25" r="20"
                fill="rgba(255, 255, 0, 0.75)"
                stroke="rgba(255, 0, 0, 0.25)" stroke-width="10"/>
            </svg>


        </p>-->

    </body>